<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Weaver</title>
    <style>
        /* --- Reset & Base --- */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            height: 100%;
            overflow: hidden; /* Important to contain canvas and prevent scrollbars */
            background-color: #00000a; /* Deep space blue/black */
            color: #e0e0ff; /* Light ethereal text color */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        /* --- Canvas Styling --- */
        #cosmicCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Behind other content */
        }

        /* --- Content Styling --- */
        .content-container {
            position: relative; /* To be above the canvas */
            z-index: 1;
            padding: 20px;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .title {
            font-size: clamp(2rem, 8vw, 4.5rem); /* Responsive font size */
            font-weight: 300;
            letter-spacing: 0.1em;
            margin-bottom: 20px;
            text-shadow: 0 0 10px #6a0dad, 0 0 20px #6a0dad, 0 0 30px #9370db, 0 0 40px #9370db;
            animation: flickerTitle 5s infinite alternate;
            opacity: 0; /* Start hidden, JS will reveal */
        }

        .subtitle {
            font-size: clamp(1rem, 4vw, 1.8rem);
            font-weight: 200;
            margin-bottom: 30px;
            line-height: 1.6;
            text-shadow: 0 0 5px #4b0082, 0 0 10px #4b0082;
            opacity: 0; /* Start hidden, JS will reveal */
            transition: opacity 1.5s ease-in-out 1s; /* Delayed fade-in */
        }

        .interactive-orb {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, #9370db 0%, #4b0082 50%, #00000a 100%);
            border-radius: 50%;
            margin-top: 30px;
            box-shadow: 0 0 15px #9370db, 0 0 30px #6a0dad, 0 0 45px #4b0082, inset 0 0 10px rgba(255,255,255,0.2);
            animation: pulseOrb 3s infinite ease-in-out, rotateOrb 20s linear infinite;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            opacity: 0; /* Start hidden, JS will reveal */
        }

        .interactive-orb:hover {
            transform: scale(1.15);
            box-shadow: 0 0 25px #c8a2c8, 0 0 50px #9370db, 0 0 75px #6a0dad, inset 0 0 15px rgba(255,255,255,0.3);
        }

        .message-area {
            margin-top: 40px;
            font-size: clamp(0.9rem, 2.5vw, 1.2rem);
            min-height: 50px; /* To prevent layout shift */
            font-style: italic;
            color: #c0c0f0;
            text-shadow: 0 0 3px #6a0dad;
            opacity: 0; /* Start hidden, JS will reveal */
            transition: opacity 1s ease-in-out;
        }

        /* --- Animations --- */
        @keyframes flickerTitle {
            0%, 100% { opacity: 0.8; text-shadow: 0 0 10px #6a0dad, 0 0 20px #6a0dad, 0 0 30px #9370db, 0 0 40px #9370db; }
            50% { opacity: 1; text-shadow: 0 0 15px #7b68ee, 0 0 30px #7b68ee, 0 0 45px #9370db, 0 0 60px #9370db; }
        }

        @keyframes pulseOrb {
            0%, 100% { transform: scale(1); box-shadow: 0 0 15px #9370db, 0 0 30px #6a0dad, 0 0 45px #4b0082, inset 0 0 10px rgba(255,255,255,0.2); }
            50% { transform: scale(1.1); box-shadow: 0 0 20px #c8a2c8, 0 0 40px #9370db, 0 0 60px #6a0dad, inset 0 0 12px rgba(255,255,255,0.25); }
        }

        @keyframes rotateOrb { /* Subtle rotation to give it more life */
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Fade-in for elements */
        .fade-in-element {
            animation: fadeInElement 2s forwards;
        }
        @keyframes fadeInElement {
            to { opacity: 1; }
        }
        .fade-in-delayed {
            animation: fadeInElement 2s forwards 0.5s; /* 0.5s delay */
        }
        .fade-in-more-delayed {
            animation: fadeInElement 2s forwards 1s; /* 1s delay */
        }
         .fade-in-most-delayed {
            animation: fadeInElement 2s forwards 1.5s; /* 1.5s delay */
        }

    </style>
</head>
<body>
    <canvas id="cosmicCanvas"></canvas>

    <div class="content-container">
        <h1 class="title">Cosmic Weaver</h1>
        <p class="subtitle">Peer into the fabric of existence, where stardust dreams and nebulae whisper secrets of the void.</p>
        <div class="interactive-orb" id="orb"></div>
        <p class="message-area" id="messageArea">Click the orb to shift realities...</p>
    </div>

    <script>
        const canvas = document.getElementById('cosmicCanvas');
        const ctx = canvas.getContext('2d');

        let width, height;
        let particles = [];
        let mouse = { x: null, y: null, radius: 100 }; // Mouse interaction radius

        const messages = [
            "The universe is a symphony of vibrations.",
            "Every atom sings a silent song.",
            "We are stardust, contemplating the stars.",
            "Reality is a canvas of perception.",
            "Beyond the known, wonder awaits.",
            "Time flows differently in the void.",
            "Seek the echoes of the Big Bang.",
            "Galaxies are thoughts of the cosmos.",
            "What mysteries lie in the dark matter?",
            "Observe. Ponder. Become."
        ];
        let currentMessageIndex = 0;

        // --- Particle Class ---
        class Particle {
            constructor(x, y, size, speedX, speedY, color) {
                this.x = x;
                this.y = y;
                this.size = size;
                this.baseSize = size; // To return to after mouse effect
                this.speedX = speedX;
                this.speedY = speedY;
                this.color = color;
                this.opacity = Math.random() * 0.5 + 0.3; // Random initial opacity
            }

            update() {
                // Movement
                this.x += this.speedX;
                this.y += this.speedY;

                // Wall collision (wrap around)
                if (this.x > width + this.size) this.x = -this.size;
                if (this.x < -this.size) this.x = width + this.size;
                if (this.y > height + this.size) this.y = -this.size;
                if (this.y < -this.size) this.y = height + this.size;

                // Mouse interaction: particles move away from mouse
                let dx = this.x - mouse.x;
                let dy = this.y - mouse.y;
                let distance = Math.sqrt(dx * dx + dy * dy);
                let forceDirectionX = dx / distance;
                let forceDirectionY = dy / distance;
                let maxDistance = mouse.radius;
                let force = (maxDistance - distance) / maxDistance; // Closer = stronger force
                
                // Make particles larger near mouse, and slightly push them
                if (distance < mouse.radius) {
                    this.size = this.baseSize + (1 - distance/mouse.radius) * 5; // Grow larger
                    this.x += forceDirectionX * force * 1.5; // Push effect
                    this.y += forceDirectionY * force * 1.5;
                } else {
                    this.size = this.baseSize; // Return to normal size
                }
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                
                // Create a radial gradient for a softer, glowing effect
                const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size);
                gradient.addColorStop(0, `rgba(${this.color}, ${this.opacity * 1.5})`); // Brighter center
                gradient.addColorStop(0.5, `rgba(${this.color}, ${this.opacity})`);
                gradient.addColorStop(1, `rgba(${this.color}, 0)`); // Fades to transparent

                ctx.fillStyle = gradient;
                ctx.fill();
            }
        }

        // --- Initialization ---
        function init() {
            // Set canvas dimensions
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            mouse.radius = Math.min(width, height) / 8; // Adjust mouse interaction radius

            particles = [];
            const numParticles = Math.floor((width * height) / 15000); // Dynamic particle count

            for (let i = 0; i < numParticles; i++) {
                let size = Math.random() * 2 + 0.5; // Smaller, star-like particles
                let x = Math.random() * width;
                let y = Math.random() * height;
                let speedX = (Math.random() * 0.6 - 0.3); // Slow, varied speeds
                let speedY = (Math.random() * 0.6 - 0.3);
                // More varied colors: blues, purples, faint whites/yellows
                const r = Math.random() > 0.7 ? 220 + Math.random() * 35 : 150 + Math.random() * 80; // Mostly blue/purple, some brighter
                const g = Math.random() > 0.8 ? 200 + Math.random() * 55 : 100 + Math.random() * 100;
                const b = 200 + Math.random() * 55; // Force more blue/purple tones
                let color = `${Math.floor(r)}, ${Math.floor(g)}, ${Math.floor(b)}`;
                particles.push(new Particle(x, y, size, speedX, speedY, color));
            }
        }

        // --- Animation Loop ---
        function animate() {
            ctx.clearRect(0, 0, width, height); // Clear canvas
            
            // Draw a very subtle global glow / nebula hint
            const globalGradient = ctx.createRadialGradient(width / 2, height / 2, Math.min(width, height) / 4, width / 2, height / 2, Math.min(width, height));
            globalGradient.addColorStop(0, 'rgba(40, 20, 80, 0.1)'); // Faint purple center
            globalGradient.addColorStop(1, 'rgba(10, 5, 30, 0.3)'); // Darker edges
            ctx.fillStyle = globalGradient;
            ctx.fillRect(0,0,width,height);


            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
            }
            requestAnimationFrame(animate);
        }

        // --- Event Listeners ---
        window.addEventListener('resize', () => {
            init(); // Re-initialize on resize
        });

        window.addEventListener('mousemove', (event) => {
            mouse.x = event.clientX;
            mouse.y = event.clientY;
        });
        
        window.addEventListener('mouseout', () => { // Reset mouse position when it leaves window
            mouse.x = null;
            mouse.y = null;
        });

        // Orb interaction
        const orb = document.getElementById('orb');
        const messageArea = document.getElementById('messageArea');
        orb.addEventListener('click', () => {
            currentMessageIndex = (currentMessageIndex + 1) % messages.length;
            messageArea.style.opacity = 0;
            setTimeout(() => {
                messageArea.textContent = messages[currentMessageIndex];
                messageArea.style.opacity = 1;
            }, 500); // Wait for fade out before changing text and fading in

            // Minor visual feedback on orb click
            orb.style.transform = 'scale(0.9)';
            setTimeout(() => orb.style.transform = '', 150);
        });

        // --- Initial Setup & Start Animation ---
        document.addEventListener('DOMContentLoaded', () => {
            // Apply fade-in animations to content elements
            document.querySelector('.title').classList.add('fade-in-element');
            document.querySelector('.subtitle').classList.add('fade-in-delayed');
            document.querySelector('.interactive-orb').classList.add('fade-in-more-delayed');
            document.querySelector('.message-area').classList.add('fade-in-most-delayed');
            
            init();
            animate();
        });

    </script>
</body>
</html>